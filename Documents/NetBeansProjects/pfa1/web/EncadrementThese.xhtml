<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <link rel="stylesheet" type="text/css" href="EncadrementThese.css"/>
            <script></script>
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Profil</title>
                
 
                     
           
        </h:head>

        <h:body>

            <p:layout fullPage="true">

                <p:layoutUnit  styleClass="ui-north" position="north" size="50"  >
                     <ui:include src="header.xhtml" />
                </p:layoutUnit>

                

              
                <p:layoutUnit position="center"  styleClass="ui-center">
                 
    
 
       
       <h:form id="form" styleClass="formulaire">  
          
               <p:growl id="growl" showDetail="true"  sticky="true"  widgetVar="dlg"  />  
               <p:dataTable value="#{listeEncadrementThese.listeencadmaster}" var="car" id="cars" 
        paginator="true" rows="5"  
        paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}"  
        rowsPerPageTemplate="5,10,15" >  
  
            <f:facet name="header" >  
                <p:outputLabel style=" color: #339900" value="Liste Encadrements Thèse "/>
            </f:facet>  
                   <p:column width="10">
            <p:commandButton id ="plus" icon="ui-icon-search"   title="View Detail" oncomplete="carDialog.show()" update=":form:carDetail" >  
                  <f:setPropertyActionListener value="#{car}" target="#{listeEncadrementMaster.chselected}" />  
               
            </p:commandButton>  
          
          </p:column>
                   <p:column  style=" color: #339900" headerText="Nom et Prénom" width="25" >
        
                       <h:outputText  style="color: black" value="#{car.prenomCh} #{car.nomCh}"  />
              </p:column> 
                   <p:column style=" color: #339900"  headerText="Sujet"  >
       
                       <h:inputText value="#{car.sujetRechCh}" size="99"  />
              </p:column> 
                   <p:column style=" color: #339900" headerText="Avancement" width="10">
        
                       <p:inputMask size="3" value="#{car.avancement}"  mask="99" />
              </p:column> 
                   <p:column width="10">
                       <p:commandButton  icon="ui-icon-saveModif" style="background: #ffffff; border: 1px solid #99cc00;" action="#{listeEncadrementMaster.valider()}" update=":form:growl"  >  
                    <f:setPropertyActionListener value="#{car}" target="#{listeEncadrementMaster.chselected}" />  
                </p:commandButton>
             </p:column>
        
    </p:dataTable>  
              
                   
        <p:dialog height="250" width="250" header="Plus de  Detail" widgetVar="carDialog" modal="true" showEffect="fade" appendToBody="true" >  
        <p:outputPanel id="carDetail" style="text-align:center;" layout="block">  
          
            
              
            <h:panelGrid  columns="2" cellpadding="5">  
                <p:graphicImage value="#{listeEncadrementMaster.image}" width="80" height="80"/> 
                <h:outputText id="modelNo" value="#{listeEncadrementMaster.chselected.nomCh} #{listeEncadrementMaster.chselected.prenomCh}" />  
                  <h:outputText id="CIN" value="CIN" />  
                  <h:outputText  value="#{listeEncadrementMaster.chselected.cinCh} " />  
                  <h:outputText id="tel" value="Tel" />  
                  <h:outputText  value="#{listeEncadrementMaster.chselected.telCh} " />  
                  
                  
               </h:panelGrid>  
        </p:outputPanel>  
    </p:dialog>  
  
  
          
  
           
       </h:form>
              
  
             <script type="text/javascript">  
    function handleLoginRequest(xhr, status, args) {  
        if(args.validationFailed || !args.loggedIn) {  
            dlg.jq.effect("shake", { times:5 }, 100);  
        }   
        else {  
            dlg.hide();  
            $('#loginLink').fadeOut();  
        }  
    }  
   
</script>                     
                </p:layoutUnit>
               
            </p:layout>

        </h:body>

    </f:view>
</html>

